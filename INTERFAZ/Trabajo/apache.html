<!DOCTYPE html>

<head>
    <meta charset="UTF-8" />
    <title>Servidor Apache</title>
    <style type="text/css">
        html {
            height: 100%;
        }

        body {
            font-family: 'Roboto', sans-serif;
            margin: 0px;
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        header {
            color: #8c8c8c;
            text-align: justify;
            font-size: 2em;
            height: 2em;
            text-align: center;
            background-color: darkslategrey;
            flex: 0 0 auto;
        }

        .menu {
            background-color: rgb(190, 121, 71);
            overflow: hidden;
            width: 100%;
        }
        
        .menu ul li {
            margin-left: 35%;
            display: inline;
        }

        .indice {
            border-bottom: 5em;
            background-color: rgb(190, 121, 71);
        }

        .indice ul {
            font-size: 16px;
            border-radius: 2px;
        }

        .column-left ul li {
            text-decoration: none;
            margin-bottom: 20px;
        }

        li {
            list-style: none;
        }

        .row {
            display: flex;
            flex-direction: row;
        }

        .column-left {
            width: 20%;
            height: 5vh;
        }

        .column-right {
            width: 80%;
        }

        .contenido {
            background-color: rgb(196, 80, 105);
            overflow: auto;
            height: 35.3em;
        }


        .titulo {
            text-decoration: underline;
            margin-left: 5px;
        }

        .texto {
            margin-left: 25px;
            margin-right: 25px;
        }

        .codigo {
            font-size: 15px;
            border-radius: 2px;
            margin-left: 35px;
            background-color: beige;
            text-align: justify;
            font-weight: bolder;
            width: 35%;
        }

        .imagen{
            margin-left: 35px;
            margin-right: 5em;
        }

        footer {
            font-size: 13px;
            color: #8c8c8c;
            text-align: justify;
            line-height: 20px;
            text-align: center;
            background-color: darkslategrey;
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 2.5rem;
        }
    </style>
</head>


<body>
    <header>
        <label>Servidor Apache</label>
    </header>

    <div class="row indice">
        <div class="column-left">
            <ul>
                <li><a href="index.html"><img src="iconos/casa_NARANJA.png" width="40"> </a></li>
            </ul>
        </div>

        <div class="column-right menu">
            <ul>
                <li><a href="lighttpd.html"><img src="imagenes/portada_lighttpd.png" width="50" /></a></li>
                <li><a href="cherokee.html"><img src="imagenes/cherokee.png" width="80" /></a></li>
            </ul>
        </div>
    </div>

    <div class="row">
        <div class="column-left">
            <img src="imagenes/portada_apache.jpg" width="100" />
            <ul>
                <li><a href="#introducionApache">Introducción</a></li>
                <li><a href="#">Requisitos</a></li>
                <li><a href="#">Instalación</a></li>
                <li><a href="#">Ajustar el firewall</a></li>
                <li><a href="#">Comprobar su servidor web</a></li>
                <li><a href="#">Administrar el proceso de Apache</a></li>
            </ul>
            <img src="imagenes/apache_pluma.png" width="100" />
        </div>

        <div class="column-right contenido">
            <div class="titulo">
                <h2 id="introducionApache">Introducción El servidor HTTP Apache </h2>
            </div>
            <div class="texto">
                <p> Es el servidor web más usado en el mundo. Provee muchas características poderosas, incluyendo
                    módulos de
                    carga dinámica, soporte robusto a medios, así como amplia integración a otros programas comúnmente
                    utilizados. En esta guía, explicaremos
                    cómo instalar un servidor web Apache en tu servidor Ubuntu 18.04.
                </p>
            </div>

            <div class="titulo">
                <h2>Requisitos previos</h2>
            </div>

            <div class="texto">
                <p>Debe tener un usuario con root con privilegios sudo configurado en su servidor. Además, deberá
                    habilitar un firewall básico para que bloquee los puertos que no sean esenciales. Para aprender a
                    configurar una cuenta normal de usuario e instalar un firewall para su servidor,

                    Cuando disponga de una cuenta, inicie sesión como user root para comenzar.</p>
            </div>

            <div class="titulo">
                <h2>Instalar Apache</h2>
            </div>
            <div class="texto">
                <p>Apache está disponible en los repositorios de software predeterminados de Ubuntu, lo que permite
                    instalarlo con las herramientas convencionales de administración de paquetes. Comencemos
                    actualizando el índice de paquetes locales para que reflejen los últimos cambios anteriores:</p>

                <div class="codigo">
                    <code>sudo apt update</code>
                </div>

                <p> A continuación, instale el paquete apache2: </p>
                <div class="codigo">
                    <code>sudo apt install apache2</code>
                </div>
                <p>Una vez confirmada la instalación, apt instalará Apache y todas las dependencias necesarias.</p>
            </div>

            <div class="titulo">
                <h2>Ajustar el firewall</h2>
            </div>

            <div class="texto">
                <p>Antes de probar Apache, es necesario modificar los ajustes de firewall para permitir el acceso
                    externo a los puertos web predeterminados. Suponiendo que siguió las instrucciones de los requisitos
                    previos, debería tener un firewall UFW configurado para que restrinja el acceso a su servidor.</p>

                <p>Durante la instalación, Apache se registra con UFW para proporcionar algunos perfiles de aplicación
                    que pueden utilizarse para habilitar o deshabilitar el acceso a Apache a través del firewall.</p>
                <p>Enumere los perfiles de aplicación <code>ufw</code> escribiendo lo siguiente:</p>
                <div class="codigo">
                    <code>sudo ufw app list</code>
                </div>
                <p>Obtendrá una lista de los perfiles de aplicación:</p>

                <div class="codigo">
                    <code>
                        <p>Available applications: </p>
                        <ul>
                            <li>Apache</li>
                            <li>Apache Full</li>
                            <li>Apache Secure</li>
                            <li>OpenSSH</li>
                         </ul>
                    </code>
                </div>
                <p>Como lo indica el resultado, hay tres perfiles disponibles para Apache:</p>
                <ul>
                    <li>Apache: este perfil abre solo el puerto 80 (tráfico web normal no cifrado)</li>
                    <li>Apache Full: este perfil abre el puerto 80 (tráfico web normal no cifrado) y el puerto 443
                        (tráfico TLS/SSL cifrado)</li>
                    <li>Apache Secure: este perfil abre solo el puerto 443 (tráfico TLS/SSL cifrado)</li>
                </ul>
                <p>Se recomienda habilitar el perfil más restrictivo, que de todos modos permitirá el tráfico que
                    configuró. Debido a que en esta guía aún no configuramos SSL para nuestro servidor, solo deberemos
                    permitir el tráfico en el puerto 80:</p>
                <div class="codigo">
                    <code>sudo ufw allow 'Apache'</code>
                </div>
                <p>Puede verificar el cambio escribiendo lo siguiente:</p>
                <div class="codigo">
                    <code>sudo ufw status</code>
                </div>
                <p>El resultado proporcionará una lista del tráfico de HTTP que se permite:</p>
                <div class="codigo">
                    <code>
                        <p>Status: active</p>
                        <ul>
                            <li>To                         Action      From</li>
                            <li>--                         ------      ----</li>
                            <li>OpenSSH                    ALLOW       Anywhere</li>
                            <li>Apache                     ALLOW       Anywhere</li>
                            <li>OpenSSH (v6)               ALLOW       Anywhere (v6)</li>
                            <li>Apache (v6)                ALLOW       Anywhere (v6)</li>
                         </ul>
                    </code>
                </div>
                <p>Como lo indica el resultado, el perfil se activó para permitir el acceso al servidor web Apache.</p>
            </div>

            <div class="titulo">
                <h2>Comprobar su servidor web</h2>
            </div>
            <div class="texto">
                <p>Al final del proceso de instalación, Ubuntu 20.04 inicia Apache. El servidor web ya debería estar
                    activo.</p>
                <p>Realice una verificación con el sistema init systemd para saber si se encuentra en ejecución el
                    servicio escribiendo lo siguiente:</p>

                <div class="codigo">
                    <code>sudo systemctl status apache2</code>
                </div>
                <p>Aunque la mejor forma de comprobarlo es solicitar una página de Apache. </p>
                <p>Puede acceder a la página de destino predeterminada de Apache para confirmar que el software funcione
                    correctamente mediante su dirección IP: Si no conoce la dirección IP de su servidor, puede obtenerla
                    de varias formas desde la línea de comandos.</p>
                <p>Intente escribir esto en la línea de comandos de su servidor:</p>
                <div class="codigo">
                    <code>hostname -I</code>
                </div>
                <p>Obtendrá algunas direcciones separadas por espacios. Puede probar cada uno en el navegador web para
                    determinar si funcionan.

                    Otra opción es utilizar la herramienta Icanhazip, que debería proporcionarle su dirección IP pública
                    como aparece en otra ubicación en Internet:</p>
                    <div class="codigo">
                        <code>curl -4 icanhazip.com</code>
                    </div>
                    <p>Cuando tenga la dirección IP de su servidor, introdúzcala en la barra de direcciones de su navegador:</p>
                    <div class="codigo">
                        <code>http://your_server_ip</code>
                    </div>
                    <p>Debería ver la página web predeterminada de Apache en Ubuntu 20.04:</p>
                    <img class="imagen" src="imagenes/apache_default.png" >
                </div>



        </div>

    </div>
    </div>
    </div>

    <footer>
        <strong>Miguel Ángel Martín Martín</strong>
    </footer>
</body>

</html>