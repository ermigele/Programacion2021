<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0">
    <style type="text/css">
        /* TENEMOS QUE DARLE UN TAMAÑO AL DIV QUE CONTIENE EL MAPA. SI NO, NO SE VERÁ  */
        
        #divmapa {
            width: 700px;
            height: 700px;
            border: 1px solid blue;
        }
    </style>

    <title>API v3 de Google Maps. Ejemplo Básico</title>

    <script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyBDq9YnNy60EpOOhvqGeMoAoCw8a5_jEKI">
    </script>

    <script type="text/javascript">
        const cargarMapa = () => {
            console.log("llega");

            let divmapa = document.getElementById("divmapa");
            centro = new google.maps.LatLng(37, -0.7);

            var opciones = {
                center: centro,
                zoom: 17,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };

            var mapa = new google.maps.Map(divmapa, opciones);

            var marcador = new google.maps.Marker({
                position: centro,
                map: mapa,
                animation: google.maps.Animation.BOUNCE
            });

            var infowindow = new google.maps.InfoWindow({
                map: mapa,
                position: new google.maps.LatLng(37.87, -0.732),
                // content: "<img src=\"../web/apa.jpg\" > "
            });


        }

        window.onload = () => {
            document.querySelector("#btCargarMapa").addEventListener("click", cargarMapa);
        }
    </script>
</head>

<body>
    <h3>API v3 de Google Maps. Ejemplo Básico</h3>
    <p>
        <button id="btCargarMapa">Cargar Mapa</button>
    </p>
    <p>
        <div id="divmapa">
            Aquí pondremos el mapa
        </div>
    </p>
</body>

</html>